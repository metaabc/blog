(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{277:function(t,e,s){},323:function(t,e,s){"use strict";s(277)},327:function(t,e,s){"use strict";s.r(e);s(15);function o(t,e,s=50,o=3e3){var i=document.querySelectorAll(".private-tip"),n=(new Date).getTime(),a=0==i.length?0:i[i.length-1].getAttribute("data-top"),r=parseInt(a)+(0!=i.length?i[i.length-1].offsetHeight+17:s);let p=document.createElement("div");p.className=`private-tip tip-${e} ${n}`,p.style.top=parseInt(a)+"px",p.setAttribute("data-top",r),"info"==e||1==e?p.innerHTML=`<i class="iconfont icon-info icon"></i><p class="tip-info-content">${t}</p>`:"success"==e||2==e?p.innerHTML=`<i class="iconfont icon-dagouyouquan icon"></i><p class="tip-success-content">${t}</p>`:"danger"==e||3==e?p.innerHTML=`<i class="iconfont icon-cuowu icon"></i><p class="tip-danger-content">${t}</p>`:"warning"!=e&&4!=e||(p.innerHTML=`<i class="iconfont icon-gantanhao icon"></i><p class="tip-warning-content">${t}</p>`),document.body.appendChild(p);let l=document.getElementsByClassName(n)[0];setTimeout(()=>{l.style.top=parseInt(r)+"px",l.style.opacity="1"},10),setTimeout(()=>{l.style.top="0px",l.style.opacity="0";var t=function(t){for(var e=[],s=t;s;s=s.nextSibling)1===s.nodeType&&s!==t&&e.push(s);return e}(l);for(let o=0;o<t.length;o++){var e=t[o],s=parseInt(e.getAttribute("data-top"))-e.offsetHeight-17;e.setAttribute("data-top",s),e.style.top=s+"px"}setTimeout(()=>{l.remove()},500)},o)}var i={data(){return{password:this.$route.query.pwd}},created(){this.password&&this.login(),document.onkeyup=t=>{13==window.event.keyCode&&this.login()}},methods:{login(){let{password:t,expire:e,loginKey:s}=this.$themeConfig.privatePage;if(this.password)if(this.$route.query.singlePage&&this.$filterPosts.forEach(o=>{if(o.path==this.$route.query.toPath)return t=o.frontmatter.password,s=o.frontmatter.title,void(e=o.frontmatter.expire||e)}),this.password==t){const t=JSON.stringify({password:this.password,time:(new Date).getTime(),expire:e});window.localStorage.setItem(s,t),console.log(s),console.log(t),o("登录成功，正在跳转 ...","success"),this.$route.query.toPath?(console.log(this.$route.query.toPath),this.$router.push({path:this.$route.query.toPath})):this.$router.push({path:"/"})}else this.password="",o("提取碼不正確！","danger");else""==this.password?o("提取碼必須填寫！","warning"):o("请先輸入提取碼！","info")}}},n=(s(323),s(7)),a=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-form"},[e("div",{staticClass:"form-header"},[t._v("提取碼")]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"請輸入提取碼 ..."},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"btn-row"},[e("button",{staticClass:"btn",on:{click:t.login}},[t._v("登录")])])])}),[],!1,null,null,null);e.default=a.exports}}]);